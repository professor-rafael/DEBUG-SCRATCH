<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CaÃ§a-Palavras - Conceitos Scratch (Dark)</title>
<style>
/* ==== ESTILO DARK ==== */
*{box-sizing:border-box;margin:0;padding:0;font-family:"Poppins",sans-serif}
body{background:linear-gradient(135deg,#0f0f1a,#1a1a2e);color:#eee;min-height:100vh;display:flex;justify-content:center;align-items:center}
h1,h2,h3,p,span{color:#f0f0f0}

/* Tela inicial */
.player-setup{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);
background:linear-gradient(145deg,#141429,#0d0d1a);border:2px solid rgba(102,126,234,0.4);
box-shadow:0 0 25px rgba(102,126,234,0.6);padding:50px 40px;border-radius:20px;text-align:center;z-index:1001;max-width:450px;width:90%}
.player-setup h2{font-size:1.8em;margin-bottom:10px;color:#9fafff}
.player-setup p{color:#ccc;margin-bottom:20px}
.player-setup input{width:80%;padding:14px;border:none;border-radius:8px;background:rgba(255,255,255,0.1);color:white;font-size:1em;text-align:center;outline:none}
.player-setup button{margin-top:25px;padding:14px 35px;background:linear-gradient(135deg,#667eea,#764ba2);color:white;border:none;border-radius:12px;cursor:pointer;font-weight:600;font-size:1.1em;box-shadow:0 0 15px rgba(118,75,162,0.5)}
.player-setup button:hover{transform:scale(1.05)}

/* Jogo */
#game-container{display:none;background:#1b1b2f;padding:30px;border-radius:20px;width:95%;max-width:1100px;box-shadow:0 0 30px rgba(0,0,0,0.4)}
h1{text-align:center;color:#9fafff;margin-bottom:15px}
.game-info{display:flex;justify-content:space-around;background:rgba(255,255,255,0.05);padding:10px;border-radius:10px;margin-bottom:15px}
.grid{display:grid;grid-template-columns:repeat(15,1fr);gap:3px;margin-bottom:25px;padding:20px;background:#222;border-radius:15px;box-shadow:0 8px 25px rgba(0,0,0,0.3)}
.cell{width:35px;height:35px;display:flex;align-items:center;justify-content:center;font-weight:600;background:#2d2d44;cursor:pointer;border-radius:8px;color:#ddd;user-select:none}
.cell:hover{background:#3b3b58}
.cell.selected{background:linear-gradient(135deg,#3498db,#2980b9);color:white}
.cell.found{background:linear-gradient(135deg,#27ae60,#2ecc71);color:white}
.word-item{padding:6px 12px;display:inline-block;margin:4px;background:rgba(255,255,255,0.05);border-radius:8px}
.word-item.found{background:linear-gradient(135deg,#27ae60,#2ecc71);color:white}
.scoreboard{margin-top:25px;background:#262640;padding:25px;border-radius:15px}
.scoreboard h2{text-align:center;margin-bottom:20px;color:#9fafff}
table{width:100%;border-collapse:collapse}
th,td{padding:10px;border-bottom:1px solid rgba(255,255,255,0.1);text-align:center}
th{background:linear-gradient(135deg,#667eea,#764ba2);color:white}
tr.current-player{background:rgba(102,126,234,0.2)}
.controls{display:flex;justify-content:center;gap:20px;margin-top:25px}
button{padding:14px 28px;background:linear-gradient(135deg,#667eea,#764ba2);color:white;border:none;border-radius:12px;cursor:pointer;font-weight:600;transition:0.3s}
button:hover{transform:translateY(-3px);box-shadow:0 0 15px rgba(102,126,234,0.5)}
.instructions{margin-top:25px;padding:20px;background:rgba(255,255,255,0.05);border-radius:15px;text-align:center}
.overlay,.congratulations,.game-over{display:none}
.overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);z-index:999}
.congratulations,.game-over{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);
background:#1e1e32;padding:40px;border-radius:20px;text-align:center;z-index:1000;box-shadow:0 0 30px rgba(102,126,234,0.6)}
</style>
</head>

<body>
<div class="player-setup" id="player-setup">
Â  Â  <h2>ğŸ® Bem-vindo ao CaÃ§a-Blocos!</h2>
Â  Â  <p>Teste seus conhecimentos de programaÃ§Ã£o Scratch:</p>
Â  Â  <input type="text" id="player-name" placeholder="Seu nome" maxlength="20">
Â  Â  <button id="start-game">ComeÃ§ar Projeto</button>
</div>

<div class="container" id="game-container">
Â  Â  <h1>CaÃ§a-Blocos - Conceitos Scratch</h1>
Â  Â  <div class="game-info">
Â  Â  Â  Â  <div>â± Tempo de ProgramaÃ§Ã£o: <span id="time">01:00</span></div>
Â  Â  Â  Â  <div>ğŸ“œ Palavras-Chave: <span id="found-count">0</span>/<span id="total-words">0</span></div>
Â  Â  Â  Â  <div>ğŸ‘¤ Programador: <span id="current-player">-</span></div>
Â  Â  </div>
Â  Â  <div class="category-info" id="category-info"></div>
Â  Â  <div class="word-list" id="word-list"></div>
Â  Â  <div class="grid" id="grid"></div>

Â  Â  <div class="scoreboard">
Â  Â  Â  Â  <h2>ğŸ† Tabela de Melhores Programadores</h2>
Â  Â  Â  Â  <table>
Â  Â  Â  Â  Â  Â  <thead><tr><th>PosiÃ§Ã£o</th><th>Aluno</th><th>PontuaÃ§Ã£o</th><th>Palavras</th><th>Tempo</th></tr></thead>
Â  Â  Â  Â  Â  Â  <tbody id="score-body"></tbody>
Â  Â  Â  Â  </table>
Â  Â  </div>

Â  Â  <div class="controls">
Â  Â  Â  Â  <button id="new-player">Novo Programador</button>
Â  Â  Â  Â  <button id="reset-game">RecomeÃ§ar Projeto</button>
Â  Â  </div>
Â  Â  <div class="instructions">
Â  Â  Â  Â  <strong>InstruÃ§Ãµes:</strong> Clique e arraste para selecionar palavras-chave (em qualquer direÃ§Ã£o). VocÃª tem 1 minuto.
<br>
Â  Â  Â  Â  O PROFESSOR RAFAEL, ESTÃ TORCENDO PRA VOCÃŠ NÃƒO CONSEGUIR REALIZAR ESTE CAÃ‡A-PALAVRA!
Â  Â  </div>
</div>

<div class="overlay" id="overlay"></div>
<div class="congratulations" id="congratulations">
Â  Â  <h2>ğŸ‰ ParabÃ©ns, <span id="congrats-player"></span>!</h2>
Â  Â  <p>VocÃª DEBOUCOU (DEBUGOU) o cÃ³digo mais rÃ¡pido que o professor Rafael ğŸ¤¯ğŸ˜ğŸ˜¤!</p>
Â  Â  <p>PosiÃ§Ã£o: <span id="player-position"></span>Âº</p>
Â  Â  <div class="stats">
Â  Â  Â  Â  <p>Palavras-Chave: <span id="congrats-found"></span>/<span id="congrats-total"></span></p>
Â  Â  Â  Â  <p>PontuaÃ§Ã£o: <span id="congrats-score"></span></p>
Â  Â  Â  Â  <p>Tempo Total: <span id="congrats-time"></span></p>
Â  Â  </div>
Â  Â  <button id="continue-button">Fazer Outro Projeto</button>
</div>

<div class="game-over" id="game-over">
Â  Â  <h2>â° Tempo de ProgramaÃ§Ã£o esgotado, <span id="gameover-player"></span>!</h2>
Â  Â  <p>VocÃª nÃ£o conseguiu debugar o cÃ³digo a tempo e perdeu para o professor Rafael ğŸ¤£ğŸ¤£ğŸ¤£.</p>
Â  Â  <div class="stats">
Â  Â  Â  Â  <p>Palavras-Chave: <span id="gameover-found"></span>/<span id="gameover-total"></span></p>
Â  Â  Â  Â  <p>PontuaÃ§Ã£o: <span id="gameover-score"></span></p>
Â  Â  </div>
Â  Â  <button id="try-again-button">Tentar Debugar Novamente</button>
</div>

<script>
/* === VARIÃVEIS GERAIS === */
const GRID_SIZE = 15;
let currentWords=[],foundWords=[],selectedCells=[];
let currentPlayer=null,students=[],gameActive=false;
let timeLeft=60,totalTime=60,changeTimer,currentCategory="";
const gridElement=document.getElementById("grid");
const playerSetupElement=document.getElementById("player-setup");
const gameContainerElement=document.getElementById("game-container");
const playerNameInput=document.getElementById("player-name");
const startGameButton=document.getElementById("start-game");
const timeElement=document.getElementById("time");
const foundCountElement=document.getElementById("found-count");
const totalWordsElement=document.getElementById("total-words");
const currentPlayerElement=document.getElementById("current-player");
const categoryInfoElement=document.getElementById("category-info");
const wordListElement=document.getElementById("word-list");
const scoreBodyElement=document.getElementById("score-body");
const overlay=document.getElementById("overlay");
const congratulations=document.getElementById("congratulations");
const gameOver=document.getElementById("game-over");
const congratsPlayer=document.getElementById("congrats-player");
const playerPosition=document.getElementById("player-position");
const congratsFound=document.getElementById("congrats-found");
const congratsTotal=document.getElementById("congrats-total");
const congratsScore=document.getElementById("congrats-score");
const congratsTime=document.getElementById("congrats-time");
const gameoverPlayer=document.getElementById("gameover-player");
const gameoverFound=document.getElementById("gameover-found");
const gameoverTotal=document.getElementById("gameover-total");
const gameoverScore=document.getElementById("gameover-score");

// === ALTERAÃ‡ÃƒO CRÃTICA AQUI: PALAVRAS-CHAVE DO SCRATCH ===
const categories={
comandos:["MOVA","PASSE","QUANDO","APARENCIA","SOM","EVENTOS","CONTROLE","SENSORES","OPERADORES","VARIAVEIS","MEUSBLOCO"],
elementos:["ATOR","FANTASIA","CENARIO","PALCO","BLOCOS","CODIGO","DADOS","MENSAGEM","CANETA","EXTENSAO","BIBLIOTECA"],
conceitos:["LOOP","REPETIR","SETAO","CONDICAO","TRANSMITA","CLONE","POSICAO","COORDENADA","EIXOX","EIXOY","VELOCIDADE"],
propriedades:["X","Y","DIRECAO","TAMANHO","COR","EFEITO","GRAFICO","VOLUME","CRONOMETRO","BOTAO","LISTA","VARIAVEL"],
};
// =========================================================

/* === FUNÃ‡Ã•ES === */
function initialize(){
Â startGameButton.onclick=startGame;
Â document.getElementById("new-player").onclick=()=>{showSetup();};
Â document.getElementById("reset-game").onclick=resetGame;
Â document.getElementById("continue-button").onclick=()=>{overlay.style.display="none";congratulations.style.display="none";resetGame();};
Â document.getElementById("try-again-button").onclick=()=>{overlay.style.display="none";gameOver.style.display="none";resetGame();};
Â createGrid(); loadStudents();
}

function createGrid(){
Â gridElement.innerHTML="";
Â for(let i=0;i<GRID_SIZE;i++)for(let j=0;j<GRID_SIZE;j++){
Â  Â const c=document.createElement("div");
Â  Â c.className="cell";c.dataset.row=i;c.dataset.col=j;
Â  Â gridElement.appendChild(c);
Â }
Â gridElement.onmousedown=startSelection;
Â gridElement.onmouseover=extendSelection;
Â document.onmouseup=endSelection;
}

function startGame(){
Â const name=playerNameInput.value.trim();
Â if(!name)return alert("Digite seu nome!");
Â currentPlayer=name;currentPlayerElement.textContent=name;
Â playerSetupElement.style.display="none";
Â gameContainerElement.style.display="block";
Â resetGame();
}

function showSetup(){
Â clearInterval(changeTimer);
Â playerSetupElement.style.display="block";
Â gameContainerElement.style.display="none";
Â playerNameInput.value="";playerNameInput.focus();
}

function selectNewWords(){
Â const keys=Object.keys(categories);
Â currentCategory=keys[Math.floor(Math.random()*keys.length)];
Â currentWords=[...categories[currentCategory]].sort(()=>Math.random()-0.5).slice(0,10);
Â categoryInfoElement.textContent="Categoria: "+currentCategory.toUpperCase();
Â totalWordsElement.textContent=currentWords.length;
Â wordListElement.innerHTML=currentWords.map(w=>`<div class='word-item'>${w}</div>`).join("");
Â generateWordSearch();
}

function generateWordSearch(){
Â const grid=Array.from({length:GRID_SIZE},()=>Array(GRID_SIZE).fill(""));
Â const dirs=[[0,1],[1,0],[0,-1],[-1,0],[1,1],[1,-1],[-1,1],[-1,-1]];
Â for(const word of currentWords){
Â  Â for(let t=0;t<100;t++){
Â  Â  Â const drc=dirs[Math.floor(Math.random()*dirs.length)];
Â  Â  Â const [dr,dc]=drc;
Â  Â  Â const r=Math.floor(Math.random()*GRID_SIZE);
Â  Â  Â const c=Math.floor(Math.random()*GRID_SIZE);
Â  Â  Â if(canPlace(grid,word,r,c,dr,dc)){
Â  Â  Â  Â for(let i=0;i<word.length;i++)grid[r+i*dr][c+i*dc]=word[i];
Â  Â  Â  Â break;
Â  Â  Â }
Â  Â }
Â }
Â const letters="ABCDEFGHIJKLMNOPQRSTUVWXYZ";
Â for(let i=0;i<GRID_SIZE;i++)for(let j=0;j<GRID_SIZE;j++)
Â  Â if(!grid[i][j])grid[i][j]=letters[Math.floor(Math.random()*letters.length)];
Â const cells=gridElement.querySelectorAll(".cell");
Â for(let i=0;i<GRID_SIZE;i++)for(let j=0;j<GRID_SIZE;j++)
Â  Â cells[i*GRID_SIZE+j].textContent=grid[i][j];
}
function canPlace(grid,word,r,c,dr,dc){
Â for(let i=0;i<word.length;i++){
Â  Â const nr=r+i*dr,nc=c+i*dc;
Â  Â if(nr<0||nc<0||nr>=GRID_SIZE||nc>=GRID_SIZE)return false;
Â  Â if(grid[nr][nc] && grid[nr][nc]!==word[i])return false;
Â }
Â return true;
}

/* SeleÃ§Ã£o */
function startSelection(e){if(!gameActive)return;selectedCells=[e.target];e.target.classList.add("selected");}
function extendSelection(e){if(!gameActive||!selectedCells.length||!e.buttons)return;
Â const cell=e.target;if(!cell.classList.contains("cell")||selectedCells.includes(cell))return;
Â selectedCells.push(cell);cell.classList.add("selected");}
function endSelection(){
Â if(!selectedCells.length)return;
Â const letters=selectedCells.map(c=>c.textContent).join("");
Â const reverse=letters.split("").reverse().join("");
Â if(currentWords.includes(letters)&&!foundWords.includes(letters))markFound(letters);
Â else if(currentWords.includes(reverse)&&!foundWords.includes(reverse))markFound(reverse);
Â else selectedCells.forEach(c=>c.classList.remove("selected"));
Â selectedCells=[];
}

function markFound(w){
Â foundWords.push(w);
Â selectedCells.forEach(c=>{c.classList.remove("selected");c.classList.add("found");});
Â document.querySelectorAll(".word-item").forEach(x=>{if(x.textContent===w)x.classList.add("found");});
Â updateFound();
Â if(foundWords.length===currentWords.length)endGame(true);
}
function updateFound(){foundCountElement.textContent=foundWords.length;}

/* Timer e fim de jogo */
function startTimer(){
Â timeLeft=totalTime;updateTime();
Â clearInterval(changeTimer);
Â changeTimer=setInterval(()=>{if(timeLeft>0){timeLeft--;updateTime();}else endGame(false);},1000);
}
function updateTime(){
Â const m=Math.floor(timeLeft/60),s=timeLeft%60;
Â timeElement.textContent=`${m.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`;
}

function endGame(v){
Â gameActive=false;clearInterval(changeTimer);
Â overlay.style.display="block";
Â if(v){
Â  Â congratulations.style.display="block";
Â  Â congratsPlayer.textContent=currentPlayer;
Â  Â congratsFound.textContent=foundWords.length;
Â  Â congratsTotal.textContent=currentWords.length;
Â  Â congratsScore.textContent=foundWords.length*100+timeLeft*10;
Â  Â congratsTime.textContent=`${totalTime-timeLeft}s`;
Â }else{
Â  Â gameOver.style.display="block";
Â  Â gameoverPlayer.textContent=currentPlayer;
Â  Â gameoverFound.textContent=foundWords.length;
Â  Â gameoverTotal.textContent=currentWords.length;
Â  Â gameoverScore.textContent=foundWords.length*100;
Â }
}

function resetGame(){
Â foundWords=[];document.querySelectorAll(".cell").forEach(c=>c.classList.remove("found","selected"));
Â document.querySelectorAll(".word-item").forEach(w=>w.classList.remove("found"));
Â selectNewWords();updateFound();gameActive=true;startTimer();
}

/* Armazenamento */
function loadStudents(){const s=localStorage.getItem("students");if(s)students=JSON.parse(s);}
initialize();
		document.addEventListener('contextmenu', event => event.preventDefault()); // Desabilita o clique direito									
											
		document.addEventListener('keydown', function(event) {									
		// F12 (123)									
		if (event.keyCode === 123) {									
		event.preventDefault();									
		}									
		// Ctrl+Shift+I (Inspecionar) ou Ctrl+Shift+J (Console)									
		if (event.ctrlKey && event.shiftKey && (event.keyCode === 73 || event.keyCode === 74)) {									
		event.preventDefault();									
		}									
		// Ctrl+U (Ver cÃ³digo-fonte)									
		if (event.ctrlKey && event.keyCode === 85) {									
		event.preventDefault();									
		}									
		});									
</script>
</body>
</html>